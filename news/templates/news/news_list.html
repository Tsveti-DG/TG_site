{% extends "core/base.html" %}
{% load static %}

{% block content %}
<div class="page-container">
    <h1>Новини</h1>

    <div class="news-grid">
        {% for item in news_page %}
            <div class="news-card">

                <a href="{{ item.get_absolute_url }}">
                    {% if item.image %}
                        <img src="{{ item.image.url }}" alt="{{ item.title }}">
                    {% else %}
                        <img src="{% static 'assets/images/default_news_pic.jpg' %}" alt="Новина">
                    {% endif %}
                </a>

                <div class="news-content">
                    <h2 class="news-title">
                        <a href="{{ item.get_absolute_url }}">{{ item.title }}</a>
                    </h2>

                    <div class="news-date">
                        {{ item.published_at|date:"d.m.Y" }}
                    </div>

                    <p class="news-excerpt">
                        {{ item.content|truncatechars:200 }}
                    </p>

                    <a class="read-more" href="{{ item.get_absolute_url }}">
                        Прочети още →
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="pagination">
        {% if news_page.has_previous %}
            <a href="?page={{ news_page.previous_page_number }}">Предишна</a>
        {% endif %}

        <span>Страница {{ news_page.number }} от {{ news_page.paginator.num_pages }}</span>

        {% if news_page.has_next %}
            <a href="?page={{ news_page.next_page_number }}">Следваща</a>
        {% endif %}
    </div>      

</div>
{% endblock %}
